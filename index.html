<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Newgle</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
    <div class="container">
    <h1 class="title">Newgle</h1>
    <input type="text" id="searchBox" placeholder="Rechercher...">
    <div id="results"></div>
  </div>
<script async src="https://cse.google.com/cse.js?cx=3783d824f026844e6">
</script>
<div class="gcse-search"></div>
  <script>
    let data = [];

    // Charger les données depuis data.json
    fetch('resultats.json')
      .then(response => response.json())
      .then(json => data = json);

    const searchBox = document.getElementById('searchBox');
    const resultsDiv = document.getElementById('results');

    searchBox.addEventListener('input', function () {
      const query = this.value.toLowerCase();
      resultsDiv.innerHTML = '';

      const filtered = data.filter(item => item.title.toLowerCase().includes(query));
      if (filtered.length === 0 && query !== '') {
        resultsDiv.innerHTML = `<p class='no-results'>Aucun résultat trouvé pour "${query}"</p>`;
      } else {
        filtered.forEach(item => {
          const result = document.createElement('div');
          result.className = 'result';
          result.innerHTML = `<a href="${item.url}" target="_blank">${item.title}</a><p>${item.url}</p>`;
          resultsDiv.appendChild(result);
        });
      }
    });
  </script>
</body>
</html>
